## recursion and stack

- 재귀는 큰 목표 작업 하나를 동일하면서 간단한 작업 여러 개로 나눌 수 있을 때 유용한 프로그래밍 패턴이다. 재귀를 이용하면 함수 호출의 결과가 명확해질 때까지 함수 호출을 더 간단한 함수 호출로 계속 줄일 수 있다. 재귀를 사용하면 반복문을 사용한 것 보다 대개 짧다. 자바스크립트 엔진은 최대 재귀 깊이를 제한한다. 대부분이 만개 정도까진 허용하고 엔진에 따라 더 많은 깊이를 허용하는 경우도 있지만 대다수의 엔진이 십만까지는 다루지 못한다. 이런 제한을 완화하려고 엔진 내부에서 자동으로 'tail calls optimization'이라는 최적화를 수행하지만 모든 곳에 적용되는 것은 아니고 간단한 경우에만 적용된다.

- 실행 중인 함수의 실행 절차에 대한 정보는 해당 함수의 execution context(실행 컨텍스트)에 저장된다. execution context는 함수 실행에 대한 세부 정보를 담고 있는 내부 데이터 구조이다. 제어 흐름의 현재 위치, 변수의 현재 값, this의 값 등 상세 내부 정보가 실행 컨텍스트에 저장된다. 함수 호출 일 회당 정확히 하나의 실행 컨텍스트가 생성된다.

- 함수 내부에 중첩 호출이 있을 때는 현재 함수의 실행이 일시 중지된다. 중중된 함수와 연관된 실행 컨텍스트는 execution context stack(실행 컨텍스트 스택)이라는 특별한 자료 구조에 저장된다. 중첩 호출이 실행된다. 중첩 호출 실행이 끝난 이후 실행 컨텍스트 스택에서 일시 중단한 함수의 실행 컨텍스트를 꺼내오고, 중단한 함수의 실행을 다시 이어간다.

- 실행 컨텍스트는 메모리를 차자하므로 재귀를 사용할 땐 메모리 요구사항에 유의해야 한다. 반복문 기반 알고리즘을 사용하면 필요한 메모리가 적고 메모리 사용 공간도 고정된다.

- 재귀를 사용하면 코드가 짧아지고 가독성이 높아지며 유지보수에도 이점이 있다. 꼭 메모리 최적화를 신경써서 코드를 작성해야 하는 경우가 아닌경우 재귀를 사용하기도 한다.