## recursion and stack

- 재귀는 큰 목표 작업 하나를 동일하면서 간단한 작업 여러 개로 나눌 수 있을 때 유용한 프로그래밍 패턴이다. 재귀를 이용하면 함수 호출의 결과가 명확해질 때까지 함수 호출을 더 간단한 함수 호출로 계속 줄일 수 있다. 재귀를 사용하면 반복문을 사용한 것 보다 대개 짧다. 자바스크립트 엔진은 최대 재귀 깊이를 제한한다. 대부분이 만개 정도까진 허용하고 엔진에 따라 더 많은 깊이를 허용하는 경우도 있지만 대다수의 엔진이 십만까지는 다루지 못한다. 이런 제한을 완화하려고 엔진 내부에서 자동으로 'tail calls optimization'이라는 최적화를 수행하지만 모든 곳에 적용되는 것은 아니고 간단한 경우에만 적용된다.

- 실행 중인 함수의 실행 절차에 대한 정보는 해당 함수의 execution context(실행 컨텍스트)에 저장된다. execution context는 함수 실행에 대한 세부 정보를 담고 있는 내부 데이터 구조이다. 제어 흐름의 현재 위치, 변수의 현재 값, this의 값 등 상세 내부 정보가 실행 컨텍스트에 저장된다. 함수 호출 일 회당 정확히 하나의 실행 컨텍스트가 생성된다.

- 함수 내부에 중첩 호출이 있을 때는 현재 함수의 실행이 일시 중지된다. 중중된 함수와 연관된 실행 컨텍스트는 execution context stack(실행 컨텍스트 스택)이라는 특별한 자료 구조에 저장된다. 중첩 호출이 실행된다. 중첩 호출 실행이 끝난 이후 실행 컨텍스트 스택에서 일시 중단한 함수의 실행 컨텍스트를 꺼내오고, 중단한 함수의 실행을 다시 이어간다.

- 실행 컨텍스트는 메모리를 차자하므로 재귀를 사용할 땐 메모리 요구사항에 유의해야 한다. 반복문 기반 알고리즘을 사용하면 필요한 메모리가 적고 메모리 사용 공간도 고정된다.

- 재귀를 사용하면 코드가 짧아지고 가독성이 높아지며 유지보수에도 이점이 있다. 꼭 메모리 최적화를 신경써서 코드를 작성해야 하는 경우가 아닌경우 재귀를 사용하기도 한다.

- 재귀는 recursive traversal(재귀적 순회)를 구현할 때 사용하면 좋다. 반복문을 사용하면 중첩 반족문으로 인해 코드가 복잡해지는 경우가 있다. 이럴때 재귀를 사용하면 간단한 코드로 구현하는 것이 가능하다.

- 재귀적 자료구조는 자기 자신의 일부를 복재하는 형태로 정의된 자료 구조이다. 다양한 곳에서 재귀적으로 정의된 자료구조가 사용된다.

- 객체를 정렬하여 어딘가에 저장하고 빠르게 삽입 혹은 삭제를 해야할때 배열은 적합하지 않다. linked list(연결 리스트)라고 불리는 자료구조가 적합하다. linked list는 객체와 value, next라는 프로퍼티를 조합해 정의할 수 있다. linked list를 사용하면 전체 리스트를 여러부분으로 쉽게 나눌 수 있고 다시 합치는 것도 가능하다 또한 쉽게 요소를 추가하거나 삭제할 수 있다. linked list는 배열과 달리 대량으로 번호를 재할당하지 않으므로 요소를 쉽게 재배열할 수 있다는 장점이 있다.

- linked list의 가장 큰 단점은 요소에 인덱스만 사용해 쉽게 접근할 수 없다는 점이다. 원하는 요소에 접근하기 위해서는 첫번째 항목부터 시작해 next로 계속 이동해야 한다.

- 중간에 요소를 삽입하거나 삭제하는 연산이 필요하지 않을 경우에는 순서가 있는 자료형 중에 queue(큐)나 deque(데크)사용할 수 있다.

- linked list에 이전요소를 참조하는 프로퍼티 prev를 추가해 이전 요소로 쉽게 이동할 수 있다.

- linked list의 마지막 요소를 참조하는 프로퍼티 tail을 추가할 수 있다. 리스트 마지막에 요소를 추가하거나 삭제하는 경우 tail도 갱신해야 한다.